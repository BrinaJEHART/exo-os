<div id="video-box-window" class="box-window">
    <div class="box-window-top">
        <div onmousemove="moveTrigger(this.target)" onmouseleave='leaveTrigger(this.target)'
            onmousedown='downTrigger(this.target)' class="box-window-top-draggable">
            <h3>eXo-video</h3>
        </div>
        <span class="exit">&times;</span>
        <span class="box-window-toggle-fullScreen">&#9634;</span>
    </div>
    <div class="box-window-content">
        <input id="uploadFile" class="f-input" accept="video/*" />
        <div id="video_fileSelector" class="fileUpload btn btn--browse">
            <span>File</span>
            <input id="uploadBtn" type="file" class="upload" accept="video/*" />
        </div>
        <video id="video_source" width="100%" height="100%" controls>
            <source src="" type="video/mp4">
        </video>
    </div>
    <script>
        $(document).ready(() => {
            let fileSelected = false;
            $('#video-box-window .box-window-content').mouseenter(() => {
                if (!fileSelected) return;
                $('#video_fileSelector').delay(50).fadeIn(300);
            });
            $('#video-box-window .box-window-content').mouseleave(() => {
                if (!fileSelected) return;
                $('#video_fileSelector').delay(100).fadeOut(300)
            });
            $("input[type=file]#uploadBtn").change(video => {
                try {
                    $('#video_source').html(` 
                        <source  src="${String(video.target.files[0].path)}" type="video/mp4"> 
                    `);
                } catch (err) { /* ignore */ } finally {
                    $('#video_fileSelector').hide();
                    fileSelected = true;
                }

            });
        });
    </script>
</div>