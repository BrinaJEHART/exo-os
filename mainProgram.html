<html>
    <head>
        <title>eXo</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="./css/mainpStyle.css">
        <script>
            window.$ = window.jQuery = require("jquery");
        </script>
        <script>
            const { ipcRenderer } = require('electron'); 
            const worldClock = () => {
                let time = new Date();
                const timeFix = (x) => {
                    return parseInt(x) < 10 ?  `0${x}` : x;
                }
                $("#clock").text(`${timeFix(time.getHours())}:${timeFix(time.getMinutes())}`);  
                setTimeout(worldClock, 10000);
            }
            $( document ).ready(() => {
                worldClock();
                $("#minimize").click(() => {
                    ipcRenderer.send('request-mainwindow-minimize');
                });
                $("#exit").click(() => {                 
                    window.close();
                });
                $( ".dropbtn" ).click(() => {
                    $( "#mainDiv" ).children().hide();
                    $( "#platform" ).fadeIn();
                });
                $(".data").click((e) => {
                   switch(parseInt(e.target.id)){
                        case 1:
                            $( "#mainDiv" ).children().hide();  
                            $( "#accInfo" ).fadeIn();
                            break;
                        case 2:
                            $( "#mainDiv" ).children().hide();  
                            $( "#tutorial" ).fadeIn();
                            break;
                        case 3:
                            ipcRenderer.send('request-mainwindow-logOut');
                            break;
                        default:
                            ipcRenderer.send('request-failed-to-generate-action');
                            break;
                   }
                });      
            });
        </script>
    </head>
    <body> 
        <div>
            <div class="dropdown">
              <button class="dropbtn">eXo</button>
              <div class="dropdown-content">
                <a id="1" class="data">Account</a>
                <a id="2" class="data">Tutorial</a>
                <a id="3" class="data">Logout</a>
              </div>
            </div>   
            <div id="clock"></div>       
            <button id="minimize"></button>
            <button id="exit"></button>
        </div>
        <div id="mainDiv" class="bodyDiv">
            <figure id="welcText">
                <h1>Welcome<br>to Exo!</h1>
                <h1>Welcome<br>to Exo!</h1>
                <h1>Welcome<br>to Exo!</h1>
                <h1>Welcome<br>to Exo!</h1>
                <h1>Welcome<br>to Exo!</h1>
                <h1>Welcome<br>to Exo!</h1>
                <h1>Welcome<br>to Exo!</h1>
                <h1>Welcome<br>to Exo!</h1>
            </figure>
            <div id="platform" style="display:none">
                <p>hello to the main boi</p>
            </div>
            <div id="accInfo" style="display:none">
                <p>hello to the main boi</p>
            </div> 
            <div id="tutorial" style="display:none">
                <p>welcome to the tutorial</p>
            </div>
    </body>
</html>
